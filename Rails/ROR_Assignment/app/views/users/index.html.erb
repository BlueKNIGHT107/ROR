<h1>List of users</h1>


<table>
    <thead>
        <tr>
            <th>Username</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email-id</th>
            <th>Age</th>
            <th colspan=3>Action</th>
        </tr>
    </thead>

    <tbody>
        <% if current_user.nil? == false and current_user.id == 1 %>
            <% @users.each do |user| %>
                <tr>
                    <td><%= user.username %></td>
                    <td><%= user.first_name %></td>
                    <td><%= user.last_name %></td>
                    <td><%= user.email %></td>
                    <td><%= user.age %></td>
                    <td><%= link_to "Show", user_path(user)%>
                    <td><%= link_to "Edit", edit_user_path(user.id), method: edit_user_path(user)%>
                    <td><%= link_to "Delete", user_path(user), method: :delete, data:{turbo_method: :delete}%></td>
                </tr>
            <% end %>
        <% end %>
    </tbody>
</table>

<%= will_paginate @articles %>

<p>
<% if current_user.nil? == false %>
    <%= link_to "Create new user", signup_path%><br>
    <%= link_to "Back to user page", user_path(current_user) %>
<% else%>
    <%= link_to "Back to homepage", root_path%>
<% end %>
</p>
